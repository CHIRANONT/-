<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Ñ‡∏¥‡∏ß‡πÅ‡∏ö‡∏î‡∏°‡∏¥‡∏ô‡∏ï‡∏±‡∏ô</title>
</head>
<body>
    <h1>üè∏ ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Ñ‡∏¥‡∏ß‡πÅ‡∏ö‡∏î‡∏°‡∏¥‡∏ô‡∏ï‡∏±‡∏ô</h1>

    <nav>
        <a href="{{ url_for('add_player') }}">‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏ß‡∏±‡∏ô</a> |
        <a href="{{ url_for('add_waiting') }}">üìã ‡∏à‡∏±‡∏î‡∏Ñ‡∏¥‡∏ß‡∏•‡∏á‡∏™‡∏ô‡∏≤‡∏°</a> |
        <a href="{{ url_for('suggest_match') }}">ü§ñ ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÅ‡∏°‡∏ï‡∏ä‡πå‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥</a> |
        <a href="{{ url_for('auto_pair_select') }}">‚öñÔ∏è ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å 4 ‡∏Ñ‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡∏à‡∏±‡∏ö‡∏ó‡∏µ‡∏°‡πÉ‡∏´‡πâ</a> |
        <a href="{{ url_for('summary') }}">üìä ‡∏™‡∏£‡∏∏‡∏õ</a> |
        <a href="{{ url_for('result_log') }}">üìà ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏ú‡∏•</a> |
        <a href="{{ url_for('setup') }}">‚öôÔ∏è ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô</a>
    </nav>

    <h2>üéÆ ‡∏™‡∏ô‡∏≤‡∏°‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏≠‡∏¢‡∏π‡πà</h2>
    {% for i in range(courts|length) %}
        <h3>‡∏Ñ‡∏≠‡∏£‡πå‡∏ó {{ courts[i].name }}</h3>
        {% if courts[i].current_match %}
            <p>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÅ‡∏Ç‡πà‡∏á: 
                {{ courts[i].current_match.team_a[0] }} & {{ courts[i].current_match.team_a[1] }} 
                vs 
                {{ courts[i].current_match.team_b[0] }} & {{ courts[i].current_match.team_b[1] }}
            </p>
            <form method="POST" action="{{ url_for('finish_match', court_idx=i) }}">
                <button type="submit">‚úÖ ‡∏à‡∏ö‡πÅ‡∏°‡∏ï‡∏ä‡πå‡∏ô‡∏µ‡πâ</button>
            </form>
        {% else %}
            <form method="POST" action="{{ url_for('start_match', court_idx=i) }}">
                <button type="submit">‚ñ∂Ô∏è ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÅ‡∏°‡∏ï‡∏ä‡πå‡∏ñ‡∏±‡∏î‡πÑ‡∏õ</button>
            </form>
        {% endif %}
        <hr>
    {% endfor %}

    <h2>üìã ‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô</h2>
    <table border="1" cellpadding="5">
        <tr>
            <th>#</th>
            <th>‡∏ä‡∏∑‡πà‡∏≠</th>
            <th>‡∏£‡∏∞‡∏î‡∏±‡∏ö</th>
            <th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
            <th>‡∏û‡∏±‡∏Å‡∏°‡∏≤ (‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ)</th>
            <th>‡πÅ‡∏Ç‡πà‡∏á‡πÑ‡∏õ</th>
            <th>‡πÄ‡∏•‡∏¥‡∏Å‡πÄ‡∏•‡πà‡∏ô</th>
        </tr>
        {% for p in players %}
            <tr>
                <td>{{ p.number }}</td>
                <td>{{ p.name }}</td>
                <td>{{ p.skill }}</td>
                <td>{{ p.status }}</td>
                <td>{{ p.rest_time }}</td>
                <td>{{ p.matches_played }}</td>
                <td>
                    {% if p.status != 'done' %}
                        <form method="POST" action="{{ url_for('mark_done', player_name=p.name) }}">
                            <button type="submit">‚ùå ‡πÄ‡∏•‡∏¥‡∏Å‡πÄ‡∏•‡πà‡∏ô</button>
                        </form>
                    {% else %}
                        üí§
                    {% endif %}
                </td>
            </tr>
        {% endfor %}
    </table>

    <h2>‚è≥ ‡∏Ñ‡∏¥‡∏ß‡∏£‡∏≠‡πÄ‡∏•‡πà‡∏ô</h2>
    {% if waiting_queue %}
        <ol>
            {% for match in waiting_queue %}
                <li>
                    {{ match.team_a[0] }} & {{ match.team_a[1] }} 
                    vs 
                    {{ match.team_b[0] }} & {{ match.team_b[1] }}
                </li>
            {% endfor %}
        </ol>
    {% else %}
        <p>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏¥‡∏ß‡∏£‡∏≠</p>
    {% endif %}
</body>
</html>
